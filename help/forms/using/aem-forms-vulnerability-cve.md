---
title: Mitigazione delle vulnerabilità di Log4j2 per Experience Manager Forms
description: Mitigazione delle vulnerabilità di Log4j2 per Experience Manager Forms
content-type: reference
products: SG_EXPERIENCEMANAGER/6.5/FORMS
topic-tags: Security
geptopics: SG_AEMFORMS/categories/jee
role: Admin
solution: Experience Manager, Experience Manager Forms
feature: Adaptive Forms
source-git-commit: c9d9a4d83a00587ee7b223e328abdef1bdd7438b
workflow-type: tm+mt
source-wordcount: '720'
ht-degree: 2%

---

# Mitigazione delle vulnerabilità di Log4j2 per Experience Manager Forms

## Problema  

Sono state segnalate vulnerabilità di sicurezza critiche per Apache Log4j2, una popolare libreria di registrazione per applicazioni basate su Java. Sono state analizzate le seguenti vulnerabilità:

<table border="1">
  <tr>
    <th>Vulnerabilità</th>
    <th>Cosa è interessato</th>
    <th>Cosa non è interessato?</th>
    <th>Stato</th>
  </tr>
  <tr>
    <td><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=2021-44228">CVE-2021-44228</a></td>
    <td rowspan="2">
      <ul>
        <li>Experience Manager 6.5 Forms su JEE (tutte le versioni da 6.5 GA a 6.5.11)</li>
        <li>Experience Manager 6.4 Forms su JEE (tutte le versioni da 6.4 GA a 6.4.8)</li>
        <li>Experience Manager 6.3 Forms su JEE (tutte le versioni da 6.3 GA a 6.3.3)</li>
        <li>Experience Manager 6.5 Forms Designer</li>
        <li>Experience Manager 6.4 Forms Designer</li>
        <li>Servizio di conversione automatica dei moduli</li>
      </ul>
    </td>
    <td rowspan="2">
      <ul>
        <li>Experience Manager Forms Workbench (tutte le versioni)</li>
        <li>Experience Manager Forms su OSGi (tutte le versioni)</li>
      </ul>
    </td>
    <td rowspan="2">
      Questi sono stati corretti. Consulta la sezione <strong>Risoluzione</strong> per le correzioni e i passaggi di mitigazione.
    </td>
  </tr>
  <tr>
    <td><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=2021-45046">CVE-2021-45046</a></td>
  </tr>
  <tr>
    <td><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-45105">CVE-2021-45105</a></td>
    <td rowspan="9" colspan="2">
      Nessun impatto su qualsiasi versione di Experience Manager Forms per le configurazioni di registrazione pronte all’uso. Se disponi di configurazioni di registrazione aggiuntive, controllale per individuare queste vulnerabilità.
    </td>
  </tr>
  <tr><td><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=2021-44832">CVE-2021-44832</a></td><td></td></tr>
  <tr><td><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=2021-4104">CVE-2021-4104</a></td><td></td></tr>
  <tr><td><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-22963">CVE-2022-22963</a></td><td></td></tr>
  <tr><td><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-22965">CVE-2022-22965</a></td><td></td></tr>
  <tr><td><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-9488">CVE-2020-9488</a></td><td></td></tr>
  <tr><td><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-23302">CVE-2022-23307</a></td><td></td></tr>
</table>

>[!NOTE]
> 
> AEM 6.5.13.0 Forms e versioni precedenti includono entrambe le librerie Log4j (1.x e 2.17.1). Le librerie Log4j 1.x di AEM Forms in AEM 6.5.13.0 Forms e versioni precedenti non fanno parte della vulnerabilità segnalata, né sono considerate vulnerabili nelle analisi del codice AEM Forms eseguite da Adobe. Tuttavia, tutte le librerie Log4j 1.x vengono rimosse nella versione 6.5.14. Per istruzioni su come installare AEM 6.5.14.0 o una versione successiva, consulta le [note sulla versione](https://experienceleague.adobe.com/it/docs/experience-manager-65/content/release-notes/release-notes).

## Risoluzione

Per mitigare il rischio di questa vulnerabilità, puoi utilizzare uno dei seguenti metodi:

* Installa il service pack più recente
* Utilizzare i passaggi di mitigazione manuali

**Installa il service pack più recente**

>[!CAUTION]
> 
> Se è stato applicato un hotfix all&#39;ambiente Experience Manager Forms Service Pack 6.3.3.8 o Experience Manager Forms Service Pack 6.4.8.4, non installare il service pack con le correzioni di vulnerabilità (elencate di seguito). L’installazione di questi service pack potrebbe sovrascrivere l’hotfix. Adobe consiglia di utilizzare **passaggi di mitigazione manuali** in uno scenario di questo tipo.

<table border="1" cellpadding="8" cellspacing="0">
  <thead>
    <tr>
      <th>Versione</th>
      <th>Versione</th>
      <th>Collegamento di download/Azione utente</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Experience Manager 6.5 Forms su JEE</td>
      <td>AEMForms-6.5.0-0038 (log4jv2.16)</td>
      <td rowspan="5">Scarica da <a href="https://auth.services.adobe.com/en_US/index.html?callback=https%3A%2F%2Fims-na1.adobelogin.com%2Fims%2Fadobeid%2Fexc_app%2FAdobeID%2Ftoken%3Fredirect_uri%3Dhttps%253A%252F%252Fexperience.adobe.com%252F%2523old_hash%253Dold_hash%253D%252523%25252Fdownloads%2526from_ims%253Dtrue%253Fclient_id%253Dexc_app%2526api%253Dauthorize%2526scope%253Dab.manage%252Caccount_cluster.read%252Cadditional_info%252Cadditional_info.job_function%252Cadditional_info.projectedProductContext%252Cadditional_info.roles%252CAdobeID%252Cadobeio.appregistry.read%252Cadobeio_api%252Caudiencemanager_api%252Ccreative_cloud%252Cmps%252Copenid%252Corg.read%252Cpps.read%252Cread_organizations%252Cread_pc%252Cread_pc.acp%252Cread_pc.dma_tartan%252Csession%26state%3D%257B%2522jslibver%2522%253A%2522v2-v0.31.0-2-g1e8a8a8%2522%252C%2522nonce%2522%253A%25223811059492261787%2522%257D%26code_challenge_method%3Dplain%26use_ms_for_expiry%3Dtrue&client_id=exc_app&scope=ab.manage%2Caccount_cluster.read%2Cadditional_info%2Cadditional_info.job_function%2Cadditional_info.projectedProductContext%2Cadditional_info.roles%2CAdobeID%2Cadobeio.appregistry.read%2Cadobeio_api%2Caudiencemanager_api%2Ccreative_cloud%2Cmps%2Copenid%2Corg.read%2Cpps.read%2Cread_organizations%2Cread_pc%2Cread_pc.acp%2Cread_pc.dma_tartan%2Csession&state=%7B%22jslibver%22%3A%22v2-v0.31.0-2-g1e8a8a8%22%2C%22nonce%22%3A%223811059492261787%22%7D&relay=2cf36844-ac87-4b40-a6fe-9a06cd0a01b8&locale=en_US&flow_type=token&dctx_id=v%3A2%2Cs%2Cf%2Cb8e64530-b013-11ee-a6c1-e721bdec0171&idp_flow_type=login&response_type=token&profile_filter=%7B%22findFirst%22%3Atrue%2C+%22fallbackToAA%22%3Atrue%2C+%22preferForwardProfile%22%3Atrue%2C+%22searchEntireCluster%22%3Afalse%7D%3B+hasPC%28%22dma_tartan%22%29&code_challenge_method=plain&redirect_uri=https%3A%2F%2Fexperience.adobe.com%2F%23old_hash%3Dold_hash%3D%2523%252Fdownloads%26from_ims%3Dtrue%3Fclient_id%3Dexc_app%26api%3Dauthorize%26scope%3Dab.manage%2Caccount_cluster.read%2Cadditional_info%2Cadditional_info.job_function%2Cadditional_info.projectedProductContext%2Cadditional_info.roles%2CAdobeID%2Cadobeio.appregistry.read%2Cadobeio_api%2Caudiencemanager_api%2Ccreative_cloud%2Cmps%2Copenid%2Corg.read%2Cpps.read%2Cread_organizations%2Cread_pc%2Cread_pc.acp%2Cread_pc.dma_tartan%2Csession&use_ms_for_expiry=true#/">Distribuzione software</a>.</td>
    </tr>
    <tr>
      <td>Experience Manager 6.4 Forms su JEE</td>
      <td>AEMForms-6.4.0-0027</td>
    </tr>
    <tr>
      <td>Experience Manager 6.3 Forms su JEE</td>
      <td>AEMForms-6.3.0-0047</td>
    </tr>
    <tr>
      <td>Experience Manager 6.5 Forms Designer</td>
      <td>AEM Forms Designer v650.019</td>
    </tr>
    <tr>
      <td>Experience Manager 6.4 Forms Designer</td>
      <td>AEM Forms Designer v640.012</td>
    </tr>
    <tr>
      <td>Servizio di conversione automatica dei moduli</td>
      <td>Sono stati identificati i passaggi di mitigazione e il servizio è stato corretto.</td>
      <td>Nessuna azione utente.</td>
    </tr>
  </tbody>
</table>

## Utilizzare i passaggi di mitigazione manuali

Per attenuare il problema, in Experience Manager 6.5 Forms (log4j-core versione 2.10 e successive), Experience Manager 6.4 Forms (log4j-core versione precedente alla versione 2.10) e Experience Manager 6.3 Forms (log4j-core versione precedente alla versione 2.10), esegui i seguenti passaggi:

1. Arresta tutte le istanze e i localizzatori del server.

1. Rimuovi `org/apache/logging/log4j/core/lookup/JndiLookup.class` dal `log4j-core-2.xx.jar` vulnerabile disponibile nei seguenti percorsi:

   * **EAR distribuibile:**

   ```javascript
   <FORMS_INSTALLATION_DIRECTORY>/configurationManager/export/adobe-livecycle-[jboss|weblogic|websphere].ear
   ```

   * **Localizzatore GemFire o Geode:**

   ```javascript
   <FORMS_INSTALLATION_DIRECTORY>/lib/caching/lib
   ```

   Per aggiornare l&#39;EAR distribuibile, a seconda del sistema operativo in uso, è possibile utilizzare uno dei metodi seguenti per rimuovere `JndiLookup.class` dal `log4j-core-2.xx.jar` vulnerabile:

   * (Linux con Oracle WebLogic o Redhat JBoss): esegui il seguente comando. Aggiornare `version` e le informazioni sul server applicazioni prima di eseguire questi comandi:

   ```javascript
   unzip adobe-livecycle-<weblogic|jboss>.ear lib/log4j-core-<version>.jar
   ```

   ```javascript
   zip -d lib/log4j-core-xxx.jar org/apache/logging/log4j/core/lookup/JndiLookup.  class
   ```

   ```javascript
   zip -ru adobe-livecycle-jboss.ear lib/log4j-core-<version>.jar
   ```

   * (Linux con IBM WebSphere): esegui il comando seguente. Aggiornare `version` e le informazioni sul server applicazioni prima di eseguire questi comandi:

   ```javascript
   unzip adobe-livecycle-websphere.ear log4j-core-<version>.jar
   ```

   ```javascript
   zip -d log4j-core-xxx.jar org/apache/logging/log4j/core/lookup/JndiLookup.class
   ```

   * (Microsoft Windows): utilizzare uno strumento GUI come [7-Zip](https://www.7-zip.org/) per rimuovere il file di classe.
1. Ripeti il passaggio 2 per ogni istanza del server applicazioni (nodo) e per tutti i localizzatori (se più di uno).

1. Dopo aver aggiornato il file jar, ridistribuisci l’EAR modificato e riavvia tutti i processi del localizzatore e le istanze del server.

>[!NOTE]
> 
> * Sostituisci la copia originale del file jar log4j-core-2.xx con la copia aggiornata. Non sono richieste altre modifiche.
> * Quando il gestore della configurazione viene eseguito di nuovo, il contenuto di `<FORMS_INSTALLATION_DIRECTORY/configurationManager/export` può essere sovrascritto.   Per evitare di ripetere la modifica precedente ogni volta che ciò accade, aggiorna il file jar in `<FORMS_INSTALLATION_DIRECTORY>/deploy/adobe-core-[jboss|weblogic|websphere].ear`. In questo modo, `adobe-livecycle-[jboss|weblogic|websphere].ear` prodotto dal gestore della configurazione dispone già di `log4j-core-2.xx jar` aggiornato.
> * Le modifiche manuali agli artefatti distribuibili possono essere sovrascritte in caso di applicazione di patch o aggiornamento. In questo caso, riapplicare la procedura.

## Riferimenti

[https://logging.apache.org/log4j/2.x/security.html](https://logging.apache.org/security.html)

**Chi devo contattare se ho ulteriori domande o problemi nell&#39;esecuzione dei passaggi di mitigazione?**

È possibile contattare il [Supporto Adobe](https://experienceleague.adobe.com/it?lang=it&support-solution=Experience+Manager#support) o aprire un [ticket di supporto](https://experienceleague.adobe.com/it/docs/customer-one/using/home#submit-ticket).

**A chi devo rivolgermi se ho ulteriori domande o problemi nell&#39;esecuzione dei passaggi di mitigazione?**
[Note legali](https://helpx.adobe.com/it/legal/legal-notices.html)    |    [Informativa sulla privacy online](https://www.adobe.com/it/privacy.html)